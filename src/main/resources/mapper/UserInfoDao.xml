<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.organization.ylcsys.dao.UserInfoDao">
	<select id="queryUserInfoAll" resultType="com.organization.ylcsys.entity.UserInfo">
		SELECT
		id,
		name,
		gender,
		id_card,
		phone,
		union_name,
		class_name,
		priority,
		youth_org_time,
		apply_party_time,
		admit_party_time,
		party_branch_id,
		create_time,
		last_edit_time
		FROM
		ylc_user_info
	</select>
	<select id="queryUserInfoByTargetItem"  resultType="com.organization.ylcsys.entity.UserInfo">
		SELECT
		id,
		name,
		gender,
		id_card,
		phone,
		union_name,
		class_name,
		priority,
		youth_org_time,
		apply_party_time,
		admit_party_time,
		party_branch_id,
		create_time,
		last_edit_time
		FROM
		ylc_user_info ui
		<where>
			<if test="targetItem.id>0">
			and ui.id = #{targetItem.id}
			</if>
			<if test="targetItem.gender!=null">
			and ui.gender = #{targetItem.gender}
			</if>
			<if test="targetItem.name!=null">
			and ui.name = #{targetItem.name}
			</if>
			<if test="targetItem.idCard!=null">
			and ui.id_card = #{targetItem.idCard}
			</if>
			<if test="targetItem.phone!=null">
			and ui.phone = #{targetItem.phone}
			</if>
			<if test="targetItem.unionName!=null">
			and ui.union_name = #{targetItem.unionName}
			</if>
			<if test="targetItem.youthOrgTime!=null">
			and ui.youth_org_time = #{targetItem.youthOrgTime}
			</if>
			<if test="targetItem.applyPartyTime!=null">
			and ui.apply_party_time = #{targetItem.applyPartyTime}
			</if>
			<if test="targetItem.admitPartyTime!=null">
			and ui.admit_party_time = #{targetItem.admitPartyTime}
			</if>
			<if test="targetItem.partyBranchId!=null">
			and ui.party_branch_id = #{targetItem.partyBranchId}
			</if>
		</where>
	</select>
	<insert id="insertIntoUserInfoByTargetItem" parameterType="com.organization.ylcsys.entity.UserInfo"
		useGeneratedKeys="true">
		INSERT INTO
		ylc_user_info(name,gender,id_card,phone,union_name,class_name,
		priority,youth_org_time,apply_party_time,admit_party_time,party_branch_id,
		create_time,last_edit_time)
		VALUES
		(#{targetItem.name},#{targetItem.gender},#{targetItem.idCard},
		#{targetItem.phone},#{targetItem.unionName},#{targetItem.className},
		#{targetItem.priority},#{targetItem.youthOrgTime},#{targetItem.applyPartyTime},
		#{targetItem.admitPartyTime},#{targetItem.partyBranchId},#{targetItem.createTime},
		#{targetItem.lastEditTime})
	</insert>
	<update id="updateUserInfoByTargetItem" parameterType="com.organization.ylcsys.entity.UserInfo"
		>
		UPDATE ylc_user_info
		<set>
			<if test="targetItem.name!= null">name=#{targetItem.name},</if>
			<if test="targetItem.gender!= null">gender=#{targetItem.gender},</if>
			<if test="targetItem.idCard!= null">id_card=#{targetItem.idCard},</if>
			<if test="targetItem.phone!= null">phone=#{targetItem.phone},</if>
			<if test="targetItem.unionName!= null">union_name=#{targetItem.unionName},</if>
			<if test="targetItem.className!= null">class_name=#{targetItem.className},</if>
			<if test="targetItem.priority!= null">priority=#{targetItem.priority},</if>
			<if test="targetItem.youthOrgTime!= null">youth_org_time=#{targetItem.youthOrgTime},</if>
			<if test="targetItem.applyPartyTime!= null">apply_party_time=#{targetItem.applyPartyTime},</if>
			<if test="targetItem.admitPartyTime!= null">admit_party_time=#{targetItem.admitPartyTime},</if>
			<if test="targetItem.partyBranchId!= null">party_branch_id=#{targetItem.partyBranchId},</if>
			<if test="targetItem.lastEditTime!= null">last_edit_time=#{targetItem.lastEditTime}</if>
		</set>
		WHERE
		id = #{targetItem.id}
	</update>
	<delete id="deleteUserInfoByTargetItem">
		DELETE FROM
		ylc_user_info
		WHERE
		id = #{targetItem.id}
	</delete>
</mapper>
    